(this.webpackJsonptickets=this.webpackJsonptickets||[]).push([[0],{82:function(t,e,n){},88:function(t,e,n){"use strict";n.r(e);var c,i,r,a,s,j,u,d,o,l,b,h,O,f,x,p,m=n(0),g=n.n(m),v=n(37),k=n.n(v),w=(n(82),n(10)),y=n(14),C=n(15),T=n(13),L=n(117),S=n(114),E=n(118),I=n(119),_=n(111),D=n(112),M=n(22),A="https://front-test.beta.aviasales.ru",B="SET_SEARCH_ID",K="SET_TICKETS",R="SET_IS_LOADED",z="SORT_TICKETS",F="FILTER_TICKETS",H=function(t){return{type:B,id:t}},J=function t(e){return function(n){fetch("".concat(A,"/tickets?searchId=").concat(e)).then((function(t){return t.json()})).then((function(t){return n(W(t.tickets))})).catch((function(){return n(t(e))})).finally((function(){return n(q(!0))}))}},W=function(t){return{type:K,tickets:t}},q=function(t){return{type:R,payload:t}},G=n(1),N=function(){var t=Object(M.b)(),e=g.a.useState(!0),n=Object(y.a)(e,2),c=n[0],i=n[1],r=g.a.useState([{title:"\u0411\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a",isChecked:!0,value:0},{title:"1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430",isChecked:!0,value:1},{title:"2 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438",isChecked:!0,value:2},{title:"3 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438",isChecked:!0,value:3}]),a=Object(y.a)(r,2),s=a[0],j=a[1],u=function(t){var e=[];"\u0412\u0441\u0435"===t.title?(e=s.map((function(t){return Object(T.a)(Object(T.a)({},t),{},{isChecked:!c})})),i(!c)):e=s.map((function(e){return e.title===t.title?Object(T.a)(Object(T.a)({},e),{},{isChecked:!e.isChecked}):Object(T.a)({},e)})),j(e)};return g.a.useEffect((function(){var e=s.every((function(t){return t.isChecked}));i(e);var n=s.filter((function(t){return t.isChecked})).map((function(t){return t.value}));t({type:F,filter:n})}),[s]),Object(G.jsx)(P,{children:Object(G.jsxs)(L.a,{children:[Object(G.jsx)(S.a,{gutterBottom:!0,variant:"h6",component:"div",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"}),Object(G.jsxs)(E.a,{children:[Object(G.jsx)(I.a,{label:"\u0412\u0441\u0435",control:Object(G.jsx)(_.a,{onClick:function(){return u({title:"\u0412\u0441\u0435",isChecked:c})},checked:c})}),s.map((function(t,e){return Object(G.jsx)(I.a,{label:t.title,control:Object(G.jsx)(_.a,{onClick:function(){return u(t)},checked:t.isChecked})},e)}))]})]})})},P=Object(C.a)(D.a)(c||(c=Object(w.a)(["\n  max-width: 275px;\n  min-width: 195px;\n  width: 100%;\n  user-select: none;\n  @media (max-width: 680px) {\n    max-width: 100%;\n  }\n"]))),Q=function(t){var e=t.origin,n=t.destination,c=t.date,i=t.stops,r=t.duration,a=new Date(c),s=a.getHours(),j=a.getMinutes(),u=Math.floor(r/60),d=r%60,o=function(t){return t<10?"0".concat(t):t};return Object(G.jsxs)(U,{children:[Object(G.jsxs)(V,{children:[Object(G.jsxs)(X,{children:[e," - ",n]}),Object(G.jsxs)(Y,{children:[o(s),":",o(j)," - ",function(){var t=j+d,e=t>=60?t%60:t,n=s+u+Math.floor(t/60);return"".concat(o(n>=24?n%24:n),":").concat(o(e))}()]})]}),Object(G.jsxs)(V,{children:[Object(G.jsx)(X,{children:"\u0412 \u043f\u0443\u0442\u0438"}),Object(G.jsx)(Y,{children:"".concat(o(u),"\u0447 ").concat(o(d),"\u043c")})]}),Object(G.jsxs)(V,{children:[Object(G.jsxs)(X,{children:[i.length?i.length:"",function(){switch(i.length){case 1:return" \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430";case 2:case 3:return" \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438";default:return"\u0431\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"}}()]}),Object(G.jsx)(Y,{children:i.join(" ")})]})]})},U=C.a.div(i||(i=Object(w.a)(["\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  @media (max-width: 350px) {\n    grid-template-columns: 1fr 60px 1fr;\n  }\n"]))),V=C.a.div(r||(r=Object(w.a)(["\n  margin-top: 10px;\n  font-weight: 600;\n  @media (max-width: 450px) {\n    font-size: 12px;\n    margin-right: 5px;\n  }\n"]))),X=C.a.div(a||(a=Object(w.a)(["\n  color: #a0b0b9;\n"]))),Y=C.a.div(s||(s=Object(w.a)([""]))),Z=function(t){var e,n=t.price,c=t.carrier,i=t.segments;return Object(G.jsxs)(nt,{children:[Object(G.jsxs)($,{children:[Object(G.jsxs)(tt,{variant:"h5",children:[(e=n,e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "))," \u0420"]}),Object(G.jsx)("div",{}),Object(G.jsx)(et,{src:"//pics.avs.io/99/36/".concat(c,".png")})]}),Object(G.jsx)(Q,Object(T.a)({},i[0])),Object(G.jsx)(Q,Object(T.a)({},i[1]))]})},$=C.a.div(j||(j=Object(w.a)(["\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  @media (max-width: 400px) {\n    grid-template-columns: 3fr 1fr 3fr;\n  }\n"]))),tt=Object(C.a)(S.a)(u||(u=Object(w.a)(["\n  color: #2196f3;\n"]))),et=C.a.img(d||(d=Object(w.a)([""]))),nt=Object(C.a)(D.a)(o||(o=Object(w.a)(["\n  padding: 25px;\n  margin-top: 20px;\n  min-width: 440px;\n  @media (max-width: 470px) {\n    min-width: 290px;\n  }\n"]))),ct=n(115),it=function(){var t=Object(M.b)(),e=Object(M.c)((function(t){return t.tickets})),n=e.searchId,c=e.currList,i=e.isLoaded;return g.a.useEffect((function(){t((function(t){fetch("".concat(A,"/search")).then((function(t){return t.json()})).then((function(e){return t(H(e.searchId))})).finally((function(){return t(q(!0))}))}))}),[]),g.a.useEffect((function(){n&&t(J(n))}),[n]),Object(G.jsx)(G.Fragment,{children:i?c.length?c.slice(0,5).map((function(t,e){return Object(G.jsx)(Z,Object(T.a)({},t),e)})):Object(G.jsx)(at,{children:"Tickets not found"}):new Array(5).fill(0).map((function(t,e){return Object(G.jsx)(rt,{variant:"rectangular",height:202},e)}))})},rt=Object(C.a)(ct.a)(l||(l=Object(w.a)(["\n  margin-top: 20px;\n  border-radius: 5px;\n"]))),at=C.a.div(b||(b=Object(w.a)(["\n  width: 100%;\n  height: 200px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),st=n(120),jt=n(121),ut=function(){var t=g.a.useState("price"),e=Object(y.a)(t,2),n=e[0],c=e[1],i=Object(M.b)(),r=Object(M.c)((function(t){return t.tickets.currList})),a=function(t){c(t.target.value)};return g.a.useEffect((function(){i({type:z,sortType:n})}),[n,r.length]),Object(G.jsxs)(st.a,{variant:"outlined",size:"large",fullWidth:!0,children:[Object(G.jsx)(jt.a,{onClick:a,value:"price",variant:"price"===n?"contained":"outlined",children:"\u0421\u0430\u043c\u044b\u0439 \u0434\u0435\u0448\u0451\u0432\u044b\u0439"}),Object(G.jsx)(jt.a,{onClick:a,value:"speed",variant:"speed"===n?"contained":"outlined",children:"\u0421\u0430\u043c\u044b\u0439 \u0431\u044b\u0441\u0442\u0440\u044b\u0439"})]})},dt=function(){return Object(G.jsxs)(ot,{children:[Object(G.jsx)(ut,{}),Object(G.jsx)(it,{})]})},ot=C.a.div(h||(h=Object(w.a)(["\n  width: 100%;\n"]))),lt=function(){return Object(G.jsxs)(bt,{children:[Object(G.jsx)(N,{}),Object(G.jsx)(dt,{})]})},bt=C.a.div(O||(O=Object(w.a)(["\n  display: flex;\n  align-items: flex-start;\n  gap: 1rem;\n  margin-bottom: 50px;\n  @media (max-width: 680px) {\n    flex-wrap: wrap;\n  }\n"]))),ht=n(73),Ot=n(116),ft=n(123),xt=n(70),pt=n.n(xt),mt=n(71),gt=n.n(mt),vt=n(122),kt=function(t){var e=t.changeTheme,n=t.isThemeDark;return Object(G.jsx)(wt,{children:Object(G.jsx)(vt.a,{color:"primary",onClick:e,children:n?Object(G.jsx)(pt.a,{}):Object(G.jsx)(gt.a,{})})})},wt=C.a.div(f||(f=Object(w.a)(["\n  width: 56px;\n  margin: 75px auto;\n"])));var yt=function(){var t=g.a.useState(!0),e=Object(y.a)(t,2),n=e[0],c=e[1],i=Object(ht.a)({palette:{mode:n?"dark":"light",background:{default:n?"#121212":"#f3f7fa"}}});return Object(G.jsxs)(Ot.a,{theme:i,children:[Object(G.jsx)(ft.a,{}),Object(G.jsx)(Tt,{children:Object(G.jsxs)(Ct,{children:[Object(G.jsx)(kt,{changeTheme:function(){c(!n)},isThemeDark:n}),Object(G.jsx)(lt,{})]})})]})},Ct=C.a.div(x||(x=Object(w.a)(["\n  max-width: 800px;\n  width: 100%;\n  padding: 0 15px;\n  margin: 0 auto;\n"]))),Tt=C.a.div(p||(p=Object(w.a)(["\n  width: 100vw;\n"]))),Lt=n(50),St=n(72),Et=n(19),It={searchId:"",isLoaded:!1,initialList:[],currList:[]},_t=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case K:return Object(T.a)(Object(T.a)({},t),{},{initialList:e.tickets,currList:e.tickets});case R:return Object(T.a)(Object(T.a)({},t),{},{isLoaded:e.payload});case B:return Object(T.a)(Object(T.a)({},t),{},{searchId:e.id});case z:var n=Object(Et.a)(t.currList);return"price"===e.sortType&&n.sort((function(t,e){return t.price-e.price})),"speed"===e.sortType&&n.sort((function(t,e){return t.segments[0].duration+t.segments[1].duration-(e.segments[0].duration+e.segments[1].duration)})),Object(T.a)(Object(T.a)({},t),{},{currList:n});case F:var c=Object(Et.a)(t.initialList).filter((function(t){var n=function(n){return e.filter.includes(t.segments[n].stops.length)};return n(0)&&n(1)}));return Object(T.a)(Object(T.a)({},t),{},{currList:c});default:return t}},Dt=Object(Lt.b)({tickets:_t}),Mt=Object(Lt.c)(Dt,Object(Lt.a)(St.a));k.a.render(Object(G.jsx)(g.a.StrictMode,{children:Object(G.jsx)(M.a,{store:Mt,children:Object(G.jsx)(yt,{})})}),document.getElementById("root"))}},[[88,1,2]]]);
//# sourceMappingURL=main.935b5dce.chunk.js.map